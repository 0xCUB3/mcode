# mcode bench job configuration (used to generate a ConfigMap).
#
# Apply/update in OpenShift:
#   oc create configmap mcode-bench-config --from-env-file=deploy/k8s/bench.env -o yaml --dry-run=client | oc apply -f -
#
# Then recreate the Job:
#   oc delete job mcode-bench --ignore-not-found && oc create -f deploy/k8s/mcode-bench-indexed-job.yaml

BENCHMARK=humaneval
MODEL=granite3-dense:8b
BACKEND=ollama
OLLAMA_HOST=http://ollama:11434

# Guardrail: prevent runaway generations from producing enormous outputs (and OOMing pods).
# This maps to Ollama's `num_predict`.
MCODE_MAX_NEW_TOKENS=1024

SAMPLES=1
DEBUG_ITERS=0
TIMEOUT_S=60

# Must match `spec.completions` in the Job manifest.
SHARD_COUNT=5

# Optional: how many shards to run at once (defaults to SHARD_COUNT).
# PARALLELISM=5

# Optional: override the image used by the Job. If unset, `deploy/k8s/run-bench.sh` defaults to:
#   image-registry.openshift-image-registry.svc:5000/<current-namespace>/mcode:latest
# MCODE_IMAGE=icr.io/<namespace>/mcode:latest

# Optional: run only first N tasks.
# LIMIT=10
